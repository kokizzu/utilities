// snippet: -*- go -*-
// snippet: Doc: This is for collecting and reporting memory use.
// snippet: Doc: This finds the current usage and reports it and any
// snippet: Doc: difference from the previous value.
// snippet: Imports: fmt
// snippet: Follows: mem/1-init

runtime.ReadMemStats(&__ms)
fmt.Printf("Total Alloc: %9d  Diff: %9d\n",
	__ms.TotalAlloc, __ms.TotalAlloc-__lastTA)
__lastTA = __ms.TotalAlloc
